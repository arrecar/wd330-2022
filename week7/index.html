<!DOCTYPE html>
<html>
<head>
    <title>WDD Portfolio - Week7</title>
</head>

<body>
    <h1>Week7 - Functions and AJAX</h1>
    <ol>
        <li>Flattening</li>
            <p>Use the reduce method in combination with the concat method to “flatten” an array of arrays into a single array that has all 
                the elements of the original arrays.</p>
            <pre>let arrays = [[1, 2, 3], [4, 5], [6]];
                // Your code here.
                // → [1, 2, 3, 4, 5, 6]</pre>
        <li>Your own loop</li>
            <p>Write a higher-order function loop that provides something like a for loop statement. It takes a value, a test function, an 
                update function, and a body function. Each iteration, it first runs the test function on the current loop value and stops if 
                that returns false. Then it calls the body function, giving it the current value. Finally, it calls the update function to create 
                a new value and starts from the beginning.</p>
            <p>When defining the function, you can use a regular loop to do the actual looping.</p>
            <pre>// Your code here.

                loop(3, n => n > 0, n => n - 1, console.log);
                // → 3
                // → 2
                // → 1
            </pre>
        <li>Content Negotiation</li>
            <p>One of the things HTTP can do is called content negotiation. The Accept request header is used to tell the server what type of 
                document the client would like to get. Many servers ignore this header, but when a server knows of various ways to encode a resource, 
                it can look at this header and send the one that the client prefers.</p>
            <p>The URL https://eloquentjavascript.net/author is configured to respond with either plaintext, HTML, or JSON, depending on what the client 
                asks for. These formats are identified by the standardized media types text/plain, text/html, and application/json.</p>
            <p>Send requests to fetch all three formats of this resource. Use the headers property in the options object passed to fetch to set the header 
                named Accept to the desired media type.</p>
            <p>Finally, try asking for the media type application/rainbows+unicorns and see which status code that produces.</p>
        <li>A Javascript Workbench</li>
            <p>Build an interface that allows people to type and run pieces of JavaScript code.</p>
            <p>Put a button next to a <textarea> field that, when pressed, uses the Function constructor we saw in Chapter 10 to wrap the text in a function 
                and call it. Convert the return value of the function, or any error it raises, to a string and display it below the text field.</p>
            <pre><textarea id="code">return "hi";</textarea>
                <button id="button">Run</button>
                <pre id="output"></pre>
                
                <script>
                  document.querySelector("#button").addEventListener("click", () => {
                    let code = document.querySelector("#code").value;
                    let outputNode = document.querySelector("#output");
                    try {
                    let result = Function(code)();
                    outputNode.innerText = String(result);
                    } catch (e) {
                    outputNode.innerText = "Error: " + e;
                    }
                });
                </script></pre>
    </ol>
    <script src="main.js"></script>
</body>
</html>